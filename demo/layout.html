<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>flyingon布局演示</title>
</head>
<body style="padding:10px;">

    <div id="host" style="height:400px;"></div>
    
    <script type="text/javascript" src="../js/flyingon.js"></script>
    
    <script type="text/javascript">
        
        
        flyingon.layout('wall', {

            type: 'table',
            spacingX: 2,
            spacingY: 2,
            data: '*[* * * * * * * *] *[50* * * * * * * * 50*] *[* * * * * * * *]'      
        });


        flyingon.layout('panel', [

            {
                type: 'dock',
                spacingX: 10,
                spacingY: 10,
                //rtl: true,

                //子布局
                sublayouts: [

                    {
                        scale: 25,
                        dock: 'top',
                        height: 40,
                        layout: 'wall'
                    },

                    {
                        scale: 25,
                        dock: 'bottom',
                        height: 40,
                        layout: 'wall'
                    },

                    {
                        dock: 'fill',

                        layout: {

                            type: 'uniform',
                            size: 10,

                            location: function (container, item, index) {

                                var height = container.arrangeHeight,
                                    value = Math.sin(58.648 * (index + 1) / Math.PI);

                                if (value < 0)
                                {
                                    value = -value;
                                }

                                this.alignY = 'bottom';
                                this.height = value * height / 2 | 0;
                            }
                        }
                    }

                ]
            },

            {
                condition: { width: [0, 250] },
                type: 'vertical-line',
                spacingY: 2
            },

            {
                condition: { width: [251, 500] },
                type: 'flow',
                spacingX: 2,
                spacingY: 2
            },

            {
                condition: { width: [501, 800] },
                type: 'table',
                spacingX: 2,
                spacingY: 2,
                data: '20[* * *] *[* *{(50% 50%)L*[* * *]^3} *] 20[* * *]',
                auto: 2
            }

        ]);



        var panel = new flyingon.Panel().sets({

            border: 1,
            padding: 8,
            resizable: 'all',
            layout: 'panel'
        });


        for (var i = 0; i < 101; i++)
        {
            panel.appendChild(new flyingon.Control().sets({

                id: i,
                border: 1,
                movable: true
            }));
        }

        
        panel.on('move-end', function (e) {
           
            e.target.backgroundColor('silver');
        });


        flyingon.mount(panel, 'host');


    </script>

</body>
</html>